from django.contrib.auth.models import User
from news.models import Author, Category, Post, Comment, PostCategory
user1 = User.objects.create_user (username="Ana")
user1.save()
user2 = User.objects.create_user (username="Dima")
user2.save()
author1 = Author.objects.create (user=user1, full_name='Ana Er')
author1.save()
author2 = Author.objects.create (user=user2, full_name='Dima Lol')
author2.save()
category1 = Category.objects.create (category_name = 'War')
category1.save()
category2 = Category.objects.create (category_name = 'Rest')
category2.save()
category3 = Category.objects.create (category_name = 'Money')
category3.save()
category4 = Category.objects.create (category_name = 'Any')
category4.save()
post1 = Post.objects.create (post_type='post', article_text='aaaaaaaaaaaaaaaaaaaa', post_author=author2)
post2 = Post.objects.create (post_type='post', article_text='ddddddddddddddddddd', post_author=author2)
post3 = Post.objects.create (post_type='news', article_text='dddddddddddddddwwwa', post_author=author1)
post3.save()
post2.save()
post1.save()
post1.category.set('1')
post2.category.set('2')
post3.category.set('3','2')
com1 = Comment.objects.create(post=post1,comment_text='bla bla bla',comment_user=user1)
com2 = Comment.objects.create(post=post2,comment_text='tra ta ta',comment_user=user1)
com3 = Comment.objects.create(post=post3,comment_text='lya lya lya',comment_user=user1)
com4 = Comment.objects.create(post=post3,comment_text='nu nu nu',comment_user=user1)
com5 = Comment.objects.create(post=post4,comment_text='nu nu nu',comment_user=user1)
post1.like()
post1.like()
post1.like()
post1.like()
post2.like()
post3.dislike()
post2.like()
com5.like()
com2.like()
com3.like()
com3.like()
Author.update_rating()
best_author.user.username 
best_author = Author.objects.aggregate(Max('rating'))
best_post = Author.objects.order_by('-post_raiting')[0]
best_post.post_date_created
best_post.post_raiting
best_post.head_of_post
best_post.preview()
comment_of_the_best_post = best_post.comment_set.all()
comment_of_the_best_post.values()